"use strict";(self.webpackChunkdoorstep_tailoring=self.webpackChunkdoorstep_tailoring||[]).push([[448],{448:(e,s,r)=>{r.r(s),r.d(s,{default:()=>m});var a=r(43),l=r(216),t=r(475),o=r(381),n=r(25),i=r(768),c=r(330),d=r(579);const m=()=>{const[e,s]=(0,a.useState)(""),[r,m]=(0,a.useState)(""),[u,x]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),[f,b]=(0,a.useState)(""),[g,y]=(0,a.useState)(!1),[v,N]=(0,a.useState)(null),[j,w]=(0,a.useState)(null),k=(0,l.Zp)();return(0,d.jsxs)("div",{className:"flex min-h-[80vh] flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,d.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,d.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),(0,d.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,d.jsx)(t.N_,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),(0,d.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,d.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[v&&(0,d.jsx)(n.A,{message:v,className:"mb-4"}),j&&(0,d.jsx)("div",{className:"mb-4 bg-green-50 border-l-4 border-green-400 p-4",children:(0,d.jsx)("div",{className:"flex",children:(0,d.jsx)("div",{className:"ml-3",children:(0,d.jsx)("p",{className:"text-sm text-green-700",children:j})})})}),(0,d.jsxs)("form",{className:"space-y-6",onSubmit:async s=>{if(s.preventDefault(),e&&r&&u&&h)if(r===u)if(r.length<6)N("Password must be at least 6 characters long");else try{y(!0),N(null),await(async(e,s,r,a)=>{const{data:{user:l},error:t}=await c.ND.auth.signUp({email:e,password:s});if(t)return console.error("Signup error:",t),void N(t.message);const{data:o,error:n}=await c.ND.from("user_profiles").insert([{user_id:null===l||void 0===l?void 0:l.id,full_name:r,email:e,phone:a}]);n?(console.error("Error creating user profile:",n),N("Failed to create user profile")):(console.log("User profile created:",o),w("Registration successful! Please check your email to verify your account."),i.oR.success("Registration successful! Please check your email to verify your account."),setTimeout((()=>{k("/login")}),5e3))})(e,r,h,f)}catch(a){console.error("Registration error:",a),N(a instanceof Error?a.message:"Failed to register. Please try again.")}finally{y(!1)}else N("Passwords do not match");else N("Please fill in all required fields")},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),(0,d.jsx)("div",{className:"mt-1",children:(0,d.jsx)("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,value:h,onChange:e=>p(e.target.value),className:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address *"}),(0,d.jsx)("div",{className:"mt-1",children:(0,d.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>s(e.target.value),className:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,d.jsx)("div",{className:"mt-1",children:(0,d.jsx)("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:f,onChange:e=>b(e.target.value),className:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password *"}),(0,d.jsx)("div",{className:"mt-1",children:(0,d.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:r,onChange:e=>m(e.target.value),className:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password *"}),(0,d.jsx)("div",{className:"mt-1",children:(0,d.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:u,onChange:e=>x(e.target.value),className:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,d.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the"," ",(0,d.jsx)(t.N_,{to:"/terms",className:"font-medium text-blue-600 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",(0,d.jsx)(t.N_,{to:"/privacy",className:"font-medium text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})]}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{type:"submit",disabled:g,className:"flex w-full justify-center rounded-md border border-transparent bg-blue-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-75",children:g?(0,d.jsx)(o.A,{size:"sm"}):"Create Account"})})]})]})})]})}}}]);
//# sourceMappingURL=448.649e070c.chunk.js.map